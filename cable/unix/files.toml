[metadata]
name = "files"
description = "A channel to select files and directories"
requirements = ["fd", "bat"]

[source]
command = ["fd -t f", "fd -t f -H"]

[source.output]
template = "{}"
mode = "concatenate"
separator = "\n"
shell_escaping = false

[ui.preview_panel.footer]
template = "{}"
mode = "concatenate"
separator = " - "
shell_escaping = false

[preview.command]
template = "bat -n --color=always {}"
# mode = "concatenate"
# separator = " "
shell_escaping = true
env = { BAT_THEME = "ansi" }

[keybindings]
shortcut = "f1"
alt-e = "actions:edit"

[actions.edit]
description = "Opens the selected entries with the default editor (falls back to vim)"
# use `mode = "fork"` if you want to return to tv afterwards
mode = "execute"

[actions.edit.command]
template = "${EDITOR:-vim} {}"
mode = "concatenate"
separator = " "
shell_escaping = true
